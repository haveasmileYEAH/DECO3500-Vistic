<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Classroom Collaboration · Student</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link href="/css/student.css" rel="stylesheet">
  </head>
  <body>
    <div class="bg"></div>

    <header class="site-header">
      <div class="brand">
        <span class="logo">CC</span>
        <span class="title">Classroom Collaboration</span>
        <span class="role">Student</span>
      </div>
    </header>

    <main class="wrap">
      <!-- 加入房间 -->
      <section id="joinCard" class="card">
        <h2 class="card-title">Join the quiz</h2>
        <div class="form-grid">
          <label class="label" for="username">Your Name</label>
          <input class="input" type="text" id="username" placeholder="Enter your name" required>

          <label class="label" for="roomInput">Room Code</label>
          <input class="input" type="text" id="roomInput" placeholder="e.g. ABC123" maxlength="8" required>

          <div class="btn-row">
            <button id="joinBtn" class="btn btn-primary">Join</button>
          </div>
        </div>
        <p class="muted small">If opened via QR, the room may be prefilled.</p>
      </section>

      <!-- 模式选择 -->
      <section id="modeCard" class="card hidden">
        <h2 class="card-title">Choose Mode</h2>
        <div class="btn-row">
          <button id="modePractice" class="btn btn-primary">Practice (10 questions)</button>
          <button id="modeOnline" class="btn">Online (wait for teacher)</button>
        </div>
      </section>

      <!-- 等待区（在线模式） -->
      <section id="greeting" class="card hidden">
        <div class="summary-header">
          <h2 class="card-title">Ready</h2>
          <button id="exitOnline" class="btn">Exit</button>
        </div>
        <p id="questionPending" class="muted">Waiting for a question…</p>
      </section>

      <!-- 练习题（题库） -->
      <section id="practiceCard" class="card hidden" aria-live="polite">
        <div class="summary-header">
          <h2 class="card-title">Practice Round</h2>
          <button id="exitPractice" class="btn">Exit</button>
        </div>

        <p class="muted small">This round has 10 questions. Questions won’t repeat within the round.</p>

        <div id="pShort" class="hidden">
          <div class="question"><span class="label">Question</span><p id="pShortQ" class="qtext">—</p></div>
          <form id="pShortForm" class="form-grid">
            <label class="label" for="pShortA">Your Answer</label>
            <input id="pShortA" class="input" placeholder="Type your answer…">
            <div class="btn-row">
              <button class="btn btn-primary" type="submit">Submit</button>
              <button id="pNext1" class="btn" type="button">Next</button>
            </div>
          </form>
        </div>

        <div id="pTF" class="hidden">
          <div class="question"><span class="label">Question</span><p id="pTFQ" class="qtext">—</p></div>
          <form id="pTFForm" class="form-grid">
            <div class="radio-row">
              <label class="radio"><input type="radio" name="pTFans" value="true"> True</label>
              <label class="radio"><input type="radio" name="pTFans" value="false"> False</label>
            </div>
            <div class="btn-row">
              <button class="btn btn-primary" type="submit">Submit</button>
              <button id="pNext2" class="btn" type="button">Next</button>
            </div>
          </form>
        </div>

        <div class="muted" id="pFeedback"></div>
        <div class="muted small" id="pProgress"></div>
      </section>

      <!-- 在线题（老师同步） -->
      <section id="shortAnswer" class="card hidden" aria-live="polite">
        <div class="summary-header">
          <h2 class="card-title">Short Answer</h2>
          <button id="exitOnline2" class="btn">Exit</button>
        </div>
        <form id="shortanswers" class="form-grid">
          <div class="question"><span class="label">Question</span><p id="question" class="qtext">—</p></div>
          <label class="label" for="answer">Your Answer</label>
          <input class="input" type="text" id="answer">
          <div class="btn-row"><input id="submitShort" class="btn btn-primary" type="submit" value="Submit"></div>
        </form>
        <div class="progress"><div id="sTimerBar1" class="progress-bar" style="width:0%"></div></div>
        <p id="timer" class="timer-text"></p>
      </section>

      <section id="trueOrFalse" class="card hidden" aria-live="polite">
        <div class="summary-header">
          <h2 class="card-title">True / False</h2>
          <button id="exitOnline3" class="btn">Exit</button>
        </div>
        <form id="tfanswers" class="form-grid">
          <div class="question"><span class="label">Question</span><p id="tfquestion" class="qtext">—</p></div>
          <div class="radio-row">
            <label class="radio"><input type="radio" name="tfanswer" value="true"> True</label>
            <label class="radio"><input type="radio" name="tfanswer" value="false"> False</label>
          </div>
          <div class="btn-row"><input id="submitTF" class="btn btn-primary" type="submit" value="Submit"></div>
        </form>
        <div class="progress"><div id="sTimerBar2" class="progress-bar" style="width:0%"></div></div>
        <p id="timer2" class="timer-text"></p>
      </section>

      <!-- 判题反馈 -->
      <section id="feedbackCard" class="card hidden">
        <div id="result" class="badge">—</div>
        <div id="answertext" class="muted"></div>
      </section>
    </main>

    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="/js/student.js"></script>
  </body>
</html>
